<html>
		  <head>
		  </head>
		  <body>
 <style>
.entrypoint {
		  width: 200px;
		  height: 100px;
		  background-color: grey;
}
.content_header {
		  background-color: blue;
			color: white;
			font-weight: bold;
			vertical-align : top;
}
.content_footer {
		  background-color: grey;
			vertical-align : bottom;
}
.content {
		  border: 3px solid;
		  position: absolute;
		  width: 200px;
		  float: left;
			overflow: none;
}

 </style>
<SCRIPT LANGUAGE="JavaScript">
<!--
var currentDiv = null;
var move = false;

var resize= false;
var eventStartX =0;
var eventStartY =0;
var currentDivStartX =0;
var currentDivStartY =0;

var currentDivSizeX =0;
var currentDivSizeY =0;

var dropTarget = null;
function mouseDown(e) {
		  if (currentDiv != null){
					 move = true;
		          eventStartX = getEventPosX(e);
		          eventStartY = getEventPosY(e);
		          var element = document.getElementById("monitor");
					    element.innerHTML ="start move window ";
							if (document.body.style){
							  document.body.style.cursor = "move";
			        }
					 return false;
		  }
		  return true;
}


function getObjectPosX(obj) { 
	if (obj.offsetParent) { 
		  return obj.offsetLeft ;
	}
	return obj.x; 
}

function getObjectSizeX(obj) { 
   return obj.offsetWidth;
	//return obj.style.width; 
	//	  if (obj.width) { 
	//				 return obj.width ;
	//}
}

function getObjectSizeY(obj) { 
   return obj.offsetHeight;
}

function getObjectPosY(obj) { 
	var curtop = 0; 
	if (obj.offsetParent) { 
			return obj.offsetTop ;
	} 
   return obj.x; 
}

function getEventPosX(event){
	if (event == null) event = document.parentWindow.event;
	if (event.clientX) return event.clientX  + document.body.scrollLeft;
	if (event.pageX) return  event.pageX;
	if (event.x) return event.x;
    return event.clientX  + document.body.scrollLeft;
}
function getEventPosY(event){
	if (event == null) event = document.parentWindow.event;
	if (event.y) return event.y;
  if (event.pageY) return  event.pageY;
  return event.clientY  + document.body.scrollTop;
}

function setObjectPos(element,posx,posy){
					  if (element.pixelLeft){
					     element.pixelLeft =   posx;
						  element.pixelTop = posy;
					  } else {
					  element.style.left =  posx;
					   element.style.top =   posy;
					  }
}

function setObjectSize(element,x,y){
					  if (element.width){
					     element.width =   x;
						  element.height = y;
					  } else {
					  element.style.width =  x;
					   element.style.height =  y;
					  }
}



function mouseUp(e) {
		move = false;
		resize = false;
      var element = document.getElementById("monitor");
			if (currentDiv != null && dropTarget != null){
					dropTarget.innerHTML = "Drop here";
					//dropTarget.value = currentDiv.innerHTML;
			}
			if (document.body.style){
				  document.body.style.cursor = "default";
      }
		currentDiv = null;
	   element.innerHTML ="stop move window ";

}
function mouseMove(e) {
		  if (currentDiv != null && move){
				    var mouseX = getEventPosX(e);
				    var mouseY = getEventPosY(e);

					 var divx =  mouseX - eventStartX;
					 var divy =  mouseY - eventStartY;

					  var xxx = document.getElementById("monitor2");
					  xxx.innerHTML ="div(x,y)(" + divx + "," + divy + ")";;

					  if (resize){
					      setObjectSize(currentDiv,currentDivSizeX + divx,currentDivSizeY + divy);
					  } else {
					     setObjectPos(currentDiv,currentDivStartX + divx,currentDivStartY + divy);
			        }
					  /**
					  if (currentDiv.pixelLeft){
					     currentDiv.pixelLeft =   currentDivStartX + divx;
					     currentDiv.pixelTop = currentDivStartY + divy;
					  } else {
					   currentDiv.style.left =   currentDivStartX + divx;
					   currentDiv.style.top =   currentDivStartY + divy;
					  }
					  **/
					  return true;
		  }
		  return false;
}
if (document.captureEvents){
	document.captureEvents(Event.MOUSEDOWN | Event.MOUSEMOVE | Event.MOUSEUP);
}
	document.onmousedown = mouseDown;
	document.onmouseup = mouseUp;
	document.onmousemove = mouseMove;

function select(e){
	if (move == false){
		currentDiv = e;
		currentDivStartX = getObjectPosX(currentDiv); 
		currentDivStartY = getObjectPosY(currentDiv); 
		currentDivSizeX = getObjectSizeX(currentDiv); 
		currentDivSizeY = getObjectSizeY(currentDiv); 

		var element = document.getElementById("monitor");
		element.innerHTML ="selected"  + e +  "(x,y)(" + currentDivStartX + "," + currentDivStartY + ")  (widht,height)(" + currentDivSizeX + "," + currentDivSizeY + ")";
    }
}

function selectResize(e){
				resize = true;
				if (document.body.style){
					  document.body.style.cursor = "se-resize";
        }
}
function unselectResize(e){
				//resize = false;
				if (document.body.style){
					  document.body.style.cursor = "default";
        }
}
function unselect(){
		  /**
		  if (move){
					 move= false;
		          var element = document.getElementById("monitor");
		          element.innerHTML ="unselected";
		          currentDiv = null;
		  }
		  **/
}
function selectdrop(e){
		unselectdrop();
		dropTarget = e;
		e.style.background ="green";
}
function unselectdrop(){
		if (dropTarget != null){
						dropTarget.style.background ="grey";
						dropTarget = null;
		}
}
// -->
</SCRIPT>
<table>
		  <tr>
					 <td>
								<!-- entry entries -->
								<table border="10">
										  <tr>
													 <td> 
																<div class="entrypoint" onMouseOver="selectdrop(this);" onMouseOut="unselectdrop();" id="entry1">&nbsp;</div>
																</td>
																<td> 
																		  <div class="entrypoint" onMouseOver="selectdrop(this);" onMouseOut="unselectdrop();" id="entry2">&nbsp;</div> 
													 </td>
										  </tr>
								</table>
								<!-- entry entries -->
					 </td>
					 <td>
							
								<div class="content" onMouseOver="select(this);" onMouseOut="unselect();">
												<div class="content_header">news</div>
												<div>
																			 <b>Speciale R.A.M. uizendingen</b>
																			 <p>
																			 VPRO's wekelijks cultuurmagazine R.A.M keert terug in het tv seizoen 2003-2004 (haar tweede), met een nieuw uitzendtijdstip en een bijzondere openingsreeks.
																			 </p>
												</div>
												<div class="content_footer"><img src="pics/resize.png" onMouseOver="selectResize(this)" onMouseOut="unselectResize(this)" align="right" width="16" height="16" align="bottom"></div>
								</div>
					 </td>
<div id="monitor">hoi</div>
<div id="monitor2">hoi2</div>
		  </body>
</html>
